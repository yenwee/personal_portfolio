<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" width="800" height="500">
  <defs>
    <marker id="arrow" viewBox="0 0 10 7" refX="9" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="rgba(255,255,255,0.4)"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="500" rx="12" fill="#0f172a"/>

  <!-- Title -->
  <text x="24" y="32" font-family="system-ui, -apple-system, sans-serif" font-size="16" fill="white" opacity="0.9" font-weight="600">SMTP Relay Infrastructure</text>

  <!-- Client Group (amber) -->
  <rect x="20" y="60" width="130" height="140" rx="10" fill="rgba(245,158,11,0.08)" stroke="rgba(245,158,11,0.3)" stroke-width="1"/>
  <text x="85" y="80" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#f59e0b" text-anchor="middle" font-weight="600" opacity="0.9">Client</text>

  <!-- Stampede Volare node -->
  <rect x="32" y="95" width="106" height="44" rx="8" fill="rgba(245,158,11,0.12)" stroke="#f59e0b" stroke-width="1"/>
  <text x="85" y="114" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="white" text-anchor="middle">Stampede</text>
  <text x="85" y="129" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#fcd34d" text-anchor="middle">Volare</text>

  <!-- Debt Collection label -->
  <rect x="32" y="148" width="106" height="22" rx="11" fill="rgba(245,158,11,0.06)" stroke="rgba(245,158,11,0.15)" stroke-width="0.5"/>
  <text x="85" y="163" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="rgba(245,158,11,0.7)" text-anchor="middle">Debt Collection</text>

  <!-- Arrow Client to VPS -->
  <line x1="150" y1="120" x2="188" y2="120" stroke="rgba(255,255,255,0.3)" stroke-width="1.5" marker-end="url(#arrow)"/>
  <!-- SMTP/STARTTLS label -->
  <rect x="144" y="98" width="48" height="16" rx="8" fill="rgba(244,63,94,0.12)" stroke="rgba(244,63,94,0.3)" stroke-width="0.5"/>
  <text x="168" y="109" font-family="system-ui, -apple-system, sans-serif" font-size="7" fill="#fda4af" text-anchor="middle">STARTTLS</text>

  <!-- Contabo VPS Group (blue, largest) -->
  <rect x="195" y="50" width="310" height="380" rx="10" fill="rgba(59,130,246,0.06)" stroke="rgba(59,130,246,0.3)" stroke-width="1"/>
  <text x="350" y="72" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#3b82f6" text-anchor="middle" font-weight="600" opacity="0.9">Contabo VPS</text>

  <!-- Postfix node -->
  <rect x="215" y="88" width="270" height="44" rx="8" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1"/>
  <text x="350" y="107" font-family="system-ui, -apple-system, sans-serif" font-size="13" fill="white" text-anchor="middle" font-weight="500">Postfix</text>
  <text x="350" y="124" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#93c5fd" text-anchor="middle">Port 5874</text>

  <!-- Arrow Postfix to Round-Robin -->
  <line x1="350" y1="132" x2="350" y2="152" stroke="rgba(255,255,255,0.3)" stroke-width="1" marker-end="url(#arrow)"/>

  <!-- Sender Rewrite label on arrow -->
  <rect x="370" y="135" width="95" height="16" rx="8" fill="rgba(59,130,246,0.1)" stroke="rgba(59,130,246,0.2)" stroke-width="0.5"/>
  <text x="417" y="146" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="#93c5fd" text-anchor="middle">Sender Rewrite</text>

  <!-- Round-Robin Daemon node -->
  <rect x="215" y="158" width="270" height="44" rx="8" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1"/>
  <text x="350" y="177" font-family="system-ui, -apple-system, sans-serif" font-size="13" fill="white" text-anchor="middle" font-weight="500">Round-Robin Daemon</text>
  <text x="350" y="194" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#93c5fd" text-anchor="middle">Account rotation logic</text>

  <!-- Security section divider -->
  <line x1="225" y1="220" x2="475" y2="220" stroke="rgba(244,63,94,0.2)" stroke-width="0.5" stroke-dasharray="4,3"/>
  <text x="350" y="237" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#f43f5e" text-anchor="middle" font-weight="600" opacity="0.7">Security Layer</text>

  <!-- fail2ban node (rose) -->
  <rect x="220" y="248" width="125" height="36" rx="8" fill="rgba(244,63,94,0.12)" stroke="#f43f5e" stroke-width="1"/>
  <text x="282" y="271" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="white" text-anchor="middle">fail2ban</text>

  <!-- UFW Firewall node (rose) -->
  <rect x="355" y="248" width="125" height="36" rx="8" fill="rgba(244,63,94,0.12)" stroke="#f43f5e" stroke-width="1"/>
  <text x="417" y="271" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="white" text-anchor="middle">UFW Firewall</text>

  <!-- Monitoring nodes -->
  <rect x="220" y="298" width="125" height="36" rx="8" fill="rgba(59,130,246,0.1)" stroke="rgba(59,130,246,0.4)" stroke-width="0.5"/>
  <text x="282" y="321" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="white" text-anchor="middle">Uptime Kuma</text>

  <rect x="355" y="298" width="125" height="36" rx="8" fill="rgba(59,130,246,0.1)" stroke="rgba(59,130,246,0.4)" stroke-width="0.5"/>
  <text x="417" y="321" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="white" text-anchor="middle">Dozzle Logs</text>

  <!-- Log Rotation node -->
  <rect x="220" y="348" width="260" height="32" rx="8" fill="rgba(59,130,246,0.06)" stroke="rgba(59,130,246,0.2)" stroke-width="0.5"/>
  <text x="350" y="369" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#93c5fd" text-anchor="middle">Log Rotation + Delivery Reports</text>

  <!-- Arrow VPS to Gmail -->
  <line x1="505" y1="180" x2="540" y2="180" stroke="rgba(255,255,255,0.3)" stroke-width="1.5" marker-end="url(#arrow)"/>
  <!-- Rotate label -->
  <rect x="507" y="162" width="38" height="14" rx="7" fill="rgba(255,255,255,0.06)"/>
  <text x="526" y="173" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="rgba(255,255,255,0.5)" text-anchor="middle">Rotate</text>

  <!-- Gmail Relay Group (amber) -->
  <rect x="547" y="50" width="155" height="260" rx="10" fill="rgba(245,158,11,0.08)" stroke="rgba(245,158,11,0.3)" stroke-width="1"/>
  <text x="624" y="72" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#f59e0b" text-anchor="middle" font-weight="600" opacity="0.9">Gmail Relay</text>

  <!-- 60+ Gmail Accounts node -->
  <rect x="560" y="88" width="130" height="44" rx="8" fill="rgba(245,158,11,0.12)" stroke="#f59e0b" stroke-width="1"/>
  <text x="625" y="107" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="white" text-anchor="middle">60+ Gmail</text>
  <text x="625" y="124" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#fcd34d" text-anchor="middle">Accounts</text>

  <!-- SPF/DKIM/DMARC label -->
  <rect x="563" y="145" width="124" height="22" rx="11" fill="rgba(16,185,129,0.12)" stroke="rgba(16,185,129,0.3)" stroke-width="0.5"/>
  <text x="625" y="160" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#6ee7b7" text-anchor="middle">SPF / DKIM / DMARC</text>

  <!-- Individual account indicators -->
  <rect x="567" y="180" width="55" height="24" rx="6" fill="rgba(245,158,11,0.08)" stroke="rgba(245,158,11,0.15)" stroke-width="0.5"/>
  <text x="594" y="196" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="rgba(255,255,255,0.5)" text-anchor="middle">Acc 1</text>

  <rect x="628" y="180" width="55" height="24" rx="6" fill="rgba(245,158,11,0.08)" stroke="rgba(245,158,11,0.15)" stroke-width="0.5"/>
  <text x="655" y="196" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="rgba(255,255,255,0.5)" text-anchor="middle">Acc 2</text>

  <rect x="567" y="210" width="55" height="24" rx="6" fill="rgba(245,158,11,0.08)" stroke="rgba(245,158,11,0.15)" stroke-width="0.5"/>
  <text x="594" y="226" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="rgba(255,255,255,0.5)" text-anchor="middle">Acc 3</text>

  <rect x="628" y="210" width="55" height="24" rx="6" fill="rgba(245,158,11,0.08)" stroke="rgba(245,158,11,0.15)" stroke-width="0.5"/>
  <text x="655" y="226" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="rgba(255,255,255,0.5)" text-anchor="middle">...N</text>

  <!-- App Passwords label -->
  <rect x="571" y="248" width="108" height="20" rx="10" fill="rgba(244,63,94,0.1)" stroke="rgba(244,63,94,0.2)" stroke-width="0.5"/>
  <text x="625" y="262" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#fda4af" text-anchor="middle">App Passwords</text>

  <!-- Daily limit label -->
  <rect x="571" y="278" width="108" height="20" rx="10" fill="rgba(245,158,11,0.08)" stroke="rgba(245,158,11,0.15)" stroke-width="0.5"/>
  <text x="625" y="292" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="rgba(245,158,11,0.6)" text-anchor="middle">500/day per acct</text>

  <!-- Arrow Gmail to Recipients -->
  <line x1="702" y1="130" x2="720" y2="130" stroke="rgba(255,255,255,0.3)" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Recipients circle -->
  <circle cx="756" cy="130" r="32" fill="rgba(16,185,129,0.1)" stroke="#10b981" stroke-width="1.5"/>
  <text x="756" y="127" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="white" text-anchor="middle">Recipients</text>
  <text x="756" y="141" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="#6ee7b7" text-anchor="middle">Inbox</text>

  <!-- 100K emails/week label -->
  <rect x="714" y="170" width="85" height="20" rx="10" fill="rgba(16,185,129,0.1)" stroke="rgba(16,185,129,0.2)" stroke-width="0.5"/>
  <text x="756" y="184" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#6ee7b7" text-anchor="middle">100K/week</text>

  <!-- Ansible section at bottom -->
  <rect x="195" y="440" width="310" height="45" rx="8" fill="rgba(139,92,246,0.06)" stroke="rgba(139,92,246,0.2)" stroke-width="0.5"/>
  <!-- Ansible arrow pointing up to VPS -->
  <line x1="350" y1="440" x2="350" y2="430" stroke="rgba(139,92,246,0.4)" stroke-width="1" marker-end="url(#arrow)" stroke-dasharray="4,3"/>
  <text x="260" y="462" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#c4b5fd" text-anchor="middle" font-weight="500">Ansible</text>
  <text x="260" y="477" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="rgba(196,181,253,0.6)" text-anchor="middle">8 Roles + Vault Secrets</text>

  <!-- Ansible details -->
  <rect x="375" y="449" width="55" height="18" rx="9" fill="rgba(139,92,246,0.08)" stroke="rgba(139,92,246,0.15)" stroke-width="0.5"/>
  <text x="402" y="462" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="rgba(196,181,253,0.7)" text-anchor="middle">Provision</text>

  <rect x="437" y="449" width="55" height="18" rx="9" fill="rgba(139,92,246,0.08)" stroke="rgba(139,92,246,0.15)" stroke-width="0.5"/>
  <text x="464" y="462" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="rgba(196,181,253,0.7)" text-anchor="middle">Harden</text>
</svg>